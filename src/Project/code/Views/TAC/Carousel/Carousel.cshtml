@using Sitecore.Mvc
@using Sitecore.Mvc.Presentation
@model RenderingModel
@{
    Sitecore.Data.Fields.MultilistField slidesField = Model.Item.Fields["Slides"];
    var slides = slidesField.GetItems();
}



<!-- [Homepage Carousell] -->
<div id="carousel_1" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        @for (int i = 0; i < slides.Length; i++)
        {
            if (i == 0)
            {
                <li data-target="#carousel_1" data-slide-to="@i" class="active"></li>
            }
            else
            {
                <li data-target="#carousel_1" data-slide-to="@i" class=""></li>
            }
        }
        @*<li data-target="#carousel_1" data-slide-to="0" class="active"></li>
        <li data-target="#carousel_1" data-slide-to="1" class=""></li>*@
    </ol>

    

    <div class="carousel-inner" role="listbox">
        @for (int i = 0; i < slides.Length; i++)
        {
            Sitecore.Data.Fields.ImageField imageField = slides[i].Fields["ItemImage"];
            Sitecore.Data.Items.MediaItem image = new Sitecore.Data.Items.MediaItem(imageField.MediaItem);
            string src = Sitecore.StringUtil.EnsurePrefix('/', Sitecore.Resources.Media.MediaManager.GetMediaUrl(image));

            Sitecore.Data.Fields.LinkField linkField = slides[i].Fields["CarouselItemLink"];
            string url = Sitecore.Links.LinkManager.GetItemUrl(linkField.TargetItem);
            if (i == 0)
            {
                <div class="item active">
                    <div class="jumbotron jumbotron-xl bg-media" style="background-image: url(@src)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1> @Html.Sitecore().Field("ContentHeading", slides[i]) </h1>
                                    <p class="lead">@Html.Sitecore().Field("ContentIntro", slides[i])</p>
                                    <a class="btn btn-hollow btn-lg" href=@url>Read more</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="item">
                    <div class="jumbotron jumbotron-xl bg-media" style="background-image: url(@src)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1>@Html.Sitecore().Field("ContentHeading", slides[i])</h1>
                                    <p class="lead">@Html.Sitecore().Field("ContentIntro", slides[i])</p>
                                    <a class="btn btn-hollow btn-lg" href=@url>Read more</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
                @*<div class="item active">
                    <div class="jumbotron jumbotron-xl bg-media" style="background-image: url(Images/carousel-climbing.jpg)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1>Climbing</h1>
                                    <p class="lead">Up for challenge? See our climbing events.</p>
                                    <a class="btn btn-hollow btn-lg" href="Event-List.html">Read more</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="jumbotron jumbotron-xl bg-media" style="background-image: url(Images/carousel-cycling.jpg)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1>Cycling</h1>
                                    <p class="lead">Happy couple cycling in canola fields.</p>
                                    <a class="btn btn-hollow btn-lg" href="Event-List.html">Read more</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="jumbotron jumbotron-xl bg-media" style="background-image: url(Images/carousel-hiking.jpg)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1>Hiking </h1>
                                    <p class="lead">Hikers group trekking in Crimea.</p>
                                    <a class="btn btn-hollow btn-lg" href="Event-List.html">Read more</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="jumbotron jumbotron-xl bg-media" style="background-image: url(Images/carousel-skiing.jpg)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1>Skiing</h1>
                                    <p class="lead">Join our skiing event!</p>
                                    <a class="btn btn-hollow btn-lg" href="Event-List.html">Read more</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> *@
            
            <a class="left carousel-control" href="#carousel_1" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#carousel_1" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
<!-- [/Homepage Carousell] -->